<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ApiWeb App</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- DataTables CSS -->
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/buttons/2.2.0/css/buttons.dataTables.min.css">
    <link rel="stylesheet" type="text/css" href="./CSS/index.css">
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- TensorFlow.js y COCO-SSD -->
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/coco-ssd"></script>

    <!-- Firebase -->
    <script type="module" src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js"></script>
    <script type="module" src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js"></script>

    <!-- jQuery y DataTables -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.2.0/js/dataTables.buttons.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/pdfmake.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/vfs_fonts.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.2.0/js/buttons.html5.min.js"></script>

    <!-- Archivo principal dashboard.js -->
    <script type="module" src="./JS/dashboard.js"></script>

</head>
<body>

<div class="container py-4">
    <h1 class="text-center mb-4">ApiWeb App</h1>

    <div id="sesion">
        <!-- Sección de autenticación -->
        <div class="card mx-auto" style="max-width: 400px;">
            <div class="card-body">
                <h3 class="card-title text-center">Inicio de Sesión</h3>
                <form id="formularioInicioSesion">
                    <div class="mb-3">
                        <label for="correo" class="form-label">Correo Electrónico</label>
                        <input type="email" id="correo" class="form-control" required>
                    </div>
                    <div class="mb-3">
                        <label for="contraseña" class="form-label">Contraseña</label>
                        <input type="password" id="contraseña" class="form-control" required>
                    </div>
                    <button type="submit" id="botonInicioSesion" class="btn btn-primary btn-custom">Iniciar Sesión</button>
                    <button type="button" id="botonRegistro" class="btn btn-secondary btn-custom mt-2">Registrarse</button>
                    <button type="button" id="botonRecuperarContraseña" class="btn btn-link d-block text-center">¿Olvidaste tu contraseña?</button>
                </form>
                <div id="mensaje" class="mt-3 text-center"></div>
            </div>
        </div>
    </div>

    <!-- Sección de Cámara -->
    <div id="todo" style="display: none;">
        <div class="row">
            <div class="col-md-6">
                <div class="card my-4">
                    <div class="card-body text-center">
                        <h3 class="card-title">Captura de Cámara</h3>
                        <button id="toggleCamera" class="btn btn-success">Iniciar Cámara</button>
                        <video id="videoElement" class="w-100 mt-3" autoplay></video>
                        <canvas id="canvasElement" class="d-none"></canvas>
                        <button id="captureImage" class="btn btn-danger mt-3">Capturar Imagen</button>
                    </div>
                    

            <!-- Sección de análisis de imagen -->
            <div class="card my-4">
                <div class="card-body">
                    <h3 class="card-title">Análisis de Imagen</h3>
                    <div id="analysisResults"></div>
                </div>
            </div>
                </div>
            </div>

            <!-- Sección de Clima -->
            <div class="col-md-6">
                <div class="card my-4">
                    <div class="card-body">
                        <h3 class="card-title">Consulta del Clima</h3>
                        <div class="input-group mb-3">
                            <input type="text" id="cityInput" class="form-control" placeholder="Ingrese una ciudad">
                            <button id="searchCity" class="btn btn-primary">Buscar</button>
                        </div>
                        <div id="weatherData"></div>
                        <div id="map" class="mt-3"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tabla de Datos Meteorológicos -->
        <div class="card my-4">
            <div class="card-body">
                <h3 class="card-title">Datos Meteorológicos</h3>
                <table id="weatherTable" class="table table-bordered table-striped">
                    <thead class="table-dark">
                        <tr>
                            <th>Ciudad</th>
                            <th>Temperatura (°C)</th>
                            <th>Humedad (%)</th>
                            <th>Viento (km/h)</th>
                            <th>Hora de Consulta</th>
                        </tr>
                    </thead>
                    <tbody id="weatherData"></tbody>
                </table>
            </div>
        </div>

        <button id="botonCerrarSesion" class="btn btn-warning w-100 mt-3">Cerrar sesión</button>
    </div>
</div>

</body>
</html>


